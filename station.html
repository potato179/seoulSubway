<!doctype html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>수도권 전동차 정보</title>
        <script src = "https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity = "sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin = "anonymous"></script>
        <link rel = "stylesheet" href = "https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity = "sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin = "anonymous">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
        <script src = "https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity = "sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin = "anonymous"></script>
        <script src = "https://kit.fontawesome.com/06fb83cb17.js" crossorigin = "anonymous"></script>
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@800&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="https://potato179.github.io/style/potato-min.css">
        <style>
            body{
                font-family: 'Nanum Gothic', sans-serif;        
            }
            .bd-placeholder-img {
                font-size: 1.125rem;
                text-anchor: middle;
                -webkit-user-select: none;
                -moz-user-select: none;
                user-select: none;
            }

            @media (min-width: 768px) {
                .bd-placeholder-img-lg {
                font-size: 3.5rem;
                }
            }
            .b-example-divider {
                height: 3rem;
                background-color: rgba(0, 0, 0, .1);
                border: solid rgba(0, 0, 0, .15);
                border-width: 1px 0;
                box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
            }

            @media (min-width: 992px) {
                .rounded-lg-3 { border-radius: .3rem; }
            }
        </style>
    </head>
    <body class = "" onload = "logincookie()">
        <nav class = "navbar navbar-expand-lg navbar-light fixed-top" style="background-color: #e3f2fd;">
            <div class = "container">
                <a class="navbar-brand" href="#" style = "font-weight: bold;">SeoulSubway</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                </button>
                <div class = "collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item active">
                            <a class="nav-link" href="./index.html">홈<span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="./station.html">역 정보<span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="./train.html">전동차 정보<span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="./notice.html">공지사항<span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item active">
                            <a class="nav-link" href="./community.html">질문게시판<span class="sr-only">(current)</span></a>
                        </li>
                    </ul>
                    <a style = "margin: 5px " class="btn btn-outline-primary" id = "log_in_out" type = "button" onclick = 'window.location.href = "login.html"'>로그인</a>
                    <a style = "margin: 5px "class="btn btn-outline-primary" id = "btn_join" type = "button" onclick = 'window.location.href = "join.html"'>회원가입</a>
                </div>
            </div>
        </nav>
        <main role="main" class="">       
            <div class = "container px-4 py-3 my-5 text-center">
                <br><br>
                <div class="input-group mb-3">
                    <input type = "text" class = "form-control" placeholder = "역명">
                    <button class = "btn btn-outline-secondary" type = "button">검색</button>
                </div>
                <br><br>
                <div style = "display: flex; justify-content: center; align-items: center;">
                    <div style = "width: 100%; background-color: #00498B; border-radius: 2em; padding: 0.25em; padding-left: 1em; padding-right: 1em; position: relative;">
                        <div class = "white left" style = "float: left">종로5가</div>
                        <div class = "white right">종각</div>
                    </div>
                    <div class = "center" style = "width: 50%; background-color: white; border: 0.25em solid #00498B; border-radius: 2em; padding: 0.25em; position: absolute; display: table-cell; vertical-align: middle;">
                        <h1>종로3가</h1>
                    </div>
                </div><br>
                <table width = "100%" class = "center">
                    <th></th>
                    <th></th>
                    <tr>
                        <td style = "padding: 0.25em;">의정부행</td>
                        <td class = "red" style = "padding: 0.25em; border-right: 1px solid black;">1분</td>
                        <td style = "padding: 0.25em;">구로행</td>
                        <td class = "red" style = "padding: 0.25em;">2분</td>
                    </tr>
                    <tr>
                        <td style = "padding: 0.25em;">광운대행</td>
                        <td class = "red" style = "padding: 0.25em; border-right: 1px solid black;">6분</td>
                        <td style = "padding: 0.25em;">인천행</td>
                        <td class = "red" style = "padding: 0.25em;">7분</td>
                    </tr>
                    <tr style = "border-bottom: 1px solid;">
                        <td style = "padding: 0.25em;">양주행</td>
                        <td class = "red" style = "padding: 0.25em; border-right: 1px solid black;">12분</td>
                        <td style = "padding: 0.25em;">신창행</td>
                        <td class = "red" style = "padding: 0.25em;">15분</td>
                    </tr>
                </table>
                <div style = "padding: 0.25em;">
                    <button class = "white" style = "background: #00498B; border: 0;">1호선</button>                        
                    <button class = "white" style = "background: #F36630; border: 0;">3호선</button>
                    <button class = "white" style = "background: #A064A3; border: 0;">5호선</button>
                </div>
                <div style = "padding: 0.25em;">
                    <div class = "left" style = "float: left">130 | 서울교통공사</div>
                    <button style = "float: right;">첫막차정보</button>
                    <button style = "float: right;">시간표</button>
                </div>
            </div>
            <div class="b-example-divider" style = "height: 2em;"></div>
            <div class = "container px-4 py-3 my-5 text-center">
                <h2>주변 정보</h2>
                <div id="map" style="width:100%;height:350px;"></div>
                <p style = "width: 100%; text-align: left; margin: 0.25em;">1번 출구: asdf</p>

            </div>
            <div class="b-example-divider" style = "height: 2em;"></div>
            <div class = "container px-4 py-3 my-5 text-center">
                <h2>역 시설 정보</h2>
                <div style = "padding: 0.5em;">
                    <table width = "100%" class = "center">
                        <th></th>
                        <th></th>
                        <tr style = "border-bottom: 1px solid;">
                            <td style = "padding: 0.25em;"><i class="fas fa-restroom"></i> 게이트 내 화장실: X</td>
                            <td style = "padding: 0.25em;"><i class="fas fa-arrows-alt-h"></i> 반대편 횡단: O</td>
                        </tr>
                    </table>
                    <p style = "width: 100%; text-align: left; margin: 0.25em;">엘리베이터, 수유실</p><br>
                    <!--문화공간, 휠체어리프트, 만남의장소, 환승주차장, 자전거보관소, 엘리베이터, 기차표예매, 무인민원발급기, 환전키오스크, 수유실-->
                    <div class = "container-fluid"">
                        <div style="margin:10px;">
                            <button data-toggle="collapse" href="#collapseExample" aria-expanded="false" aria-controls="collapseExample">역 이용 안내도 펼치기/접기</button>
                        </div>
                        <div class = "collapse" id = "collapseExample">
                            <div class="well">
                                <img src = "./public/img/stationmap/1호선/04종로3가.gif" style = "width: 100%;">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="b-example-divider" style = "height: 2em;"></div>
            <div class = "container px-4 py-3 my-5 text-center">
                <h2>기타 정보</h2>
                <p style = "width: 100%; text-align: left; margin: 0.25em;">주소: 서울특별시 종로구 종로 지하 129 (종로3가) (1호선 종로3가역)</p>
                <p style = "width: 100%; text-align: left; margin: 0.25em;">전화번호: 02-6110-1301</p>
                <p style = "width: 100%; text-align: left; margin: 0.25em;">역명 유래: 종로는 조선왕조 500년 동안 밤에는 인정. 새벽에는 파루를 쳐서 도성 8문을 여닫게 하는 종루가 있어 유래된 것이다. 이 거리에는 조선 초부터 시전이 있었던 번화가였으므로 일명 운종가로 칭한 서울의 중심가였다.</p>
                </div>
            </div>
            <div class="b-example-divider" style = "height: 2em;"></div>
        <script src = "../public/js/jquery.cookie.js"></script>
        <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
        <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=7f26ddb0373cd3b598ff54652cbbdc24"></script>
        <script>    
            var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
            mapOption = { 
                center: new kakao.maps.LatLng(37.571607, 126.991806), // 지도의 중심좌표
                level: 4 // 지도의 확대 레벨
            };
            var map = new kakao.maps.Map(mapContainer, mapOption); 

            function logincookie(){
                var userEmail = $.cookie("userEmail");
                if(userEmail != '' && userEmail != null){
                    console.log("쿠키 존재: " + userEmail);
                    $("#log_in_out").html("로그아웃");
                    $("#log_in_out").attr("onclick", 'window.location.href = "logout"');
                    var username = $.cookie("username");
                    $("#btn_join").html(username + "님, 반갑습니다");
                    var t = document.getElementById("btn_join");
                    t.style.color = "red";
                    $("#btn_join").attr("onclick", '');
                }
                else{
                    console.log("쿠키가 존재하지 않습니다");

                    $("#log_in_out").html("로그인");
                    $("#log_in_out").attr("onclick", 'window.location.href = "login.html"');
                }
            }

            function searchstation() {
                var searchtext = $('#searchtext').val();
                var sendData =  {searchtext: searchtext};

                var ajaxData = { 
                    type: "GET", 
                    url : "getstationinfo",
                    data: sendData, 
                    dataType: "json", 
                    success : onSuccess,
                    error: onError
                };

                $.ajax( ajaxData );
            }

            function onSuccess (data, status, xhr) { 
                console.log(data);

                if(data.condition == "success"){
                    // 로그인 성공 메인화면 가게 해준다.
                    alert(data.message);        
                    window.location.href = "index.html"
                }
                else if(data.condition == "fail"){
                    //존재하지 않은 유저 || 비밀번호 불일치
                    alert(data.message);
                }
            }

            function onError (jqXHR, textStatus, errorThrown) { 
                console.log(jqXHR.responseText); 
            }
        </script>
    </body>
</html>